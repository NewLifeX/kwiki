---
title: 架构设计
type: architecture
order: 4
---

# 架构文档生成提示词（中文）

为以下项目生成全面的架构文档：

**项目信息：**
- 项目: {{.ProjectName}}
- 主要语言: {{.PrimaryLanguage}}
- 描述: {{.Description}}

**模块结构：**
{{range .Modules}}
- **{{.Name}}**: {{.Description}}
  {{range .Functions}}
  - {{.Name}}: {{.Description}}
  {{end}}
{{end}}

**要求：**
创建详细的架构文档，包含以下内容：

## 1. 系统概览
- **高层架构**
  - 系统目的和范围
  - 关键架构决策
  - 设计原则和模式
  - 技术栈概览
- **系统上下文**
  - 外部依赖
  - 集成点
  - 用户交互
  - 环境考虑

## 2. 架构模式
- **使用的设计模式**
  - 主要架构模式
  - 模式实现细节
  - 优势和权衡
  - 模式交互
- **架构风格**
  - 分层架构
  - 微服务/单体方法
  - 事件驱动组件
  - 数据流模式

## 3. 核心组件
{{range .Modules}}
### {{.Name}} 模块
- **目的**: {{.Description}}
- **职责**
  - 主要功能和能力
  - 数据处理职责
  - 集成职责
- **关键函数**
  {{range .Functions}}
  - **{{.Name}}**: {{.Description}}
  {{end}}
- **依赖关系**
  - 内部模块依赖
  - 外部库依赖
  - 服务依赖
- **接口**
  - 公共API
  - 内部接口
  - 数据契约
{{end}}

## 4. 数据架构
- **数据模型**
  - 核心数据实体
  - 关系和约束
  - 数据验证规则
- **数据流**
  - 输入数据源
  - 处理管道
  - 输出目标
  - 数据转换点
- **存储策略**
  - 数据库设计
  - 缓存机制
  - 数据持久化模式
  - 备份和恢复

## 5. 系统交互
- **内部通信**
  - 模块间通信
  - 消息传递机制
  - 事件处理
  - 同步vs异步模式
- **外部集成**
  - API集成
  - 第三方服务
  - 数据库连接
  - 文件系统交互

## 6. 安全架构
- **安全原则**
  - 身份验证机制
  - 授权策略
  - 数据保护措施
  - 安全边界
- **威胁模型**
  - 已识别的安全风险
  - 缓解策略
  - 安全控制
  - 合规考虑

## 7. 性能和可扩展性
- **性能特征**
  - 预期负载模式
  - 性能瓶颈
  - 优化策略
  - 监控方法
- **可扩展性设计**
  - 水平扩展能力
  - 垂直扩展考虑
  - 负载分布
  - 资源管理

## 8. 部署架构
- **部署模型**
  - 部署环境
  - 基础设施要求
  - 容器策略
  - 服务编排
- **配置管理**
  - 环境特定配置
  - 配置源
  - 运行时配置
  - 功能标志

## 9. 质量属性
- **可靠性**
  - 容错机制
  - 错误处理策略
  - 恢复程序
  - 可用性目标
- **可维护性**
  - 代码组织
  - 测试策略
  - 文档标准
  - 开发工作流

## 10. 未来考虑
- **可扩展性**
  - 插件架构
  - 扩展点
  - API演进
  - 向后兼容性
- **演进路径**
  - 计划改进
  - 技术迁移路径
  - 架构债务
  - 重构机会

**格式要求：**
- 使用清晰的架构图（文字描述）
- 包含组件交互图
- 为关键模式提供代码示例
- 全文使用一致的术语
- 包含主要选择的决策理由
- 添加章节间的交叉引用

**风格指南：**
- 面向技术和非技术利益相关者
- 平衡高层概览和技术细节
- 包含实际示例和用例
- 解释架构决策背后的"为什么"
- 在有助于理解的地方使用视觉描述
